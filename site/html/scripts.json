{"kind":"Article","sha256":"45dea33dbd496f8fadce1695b557fa661f8a1d208cec327170431b60f340172f","slug":"scripts","location":"/myst/sections/scripts.md","dependencies":[],"frontmatter":{"title":"Scripts","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Brookie Guzder-Williams","given":"Brookie","family":"Guzder-Williams"},"name":"Brookie Guzder-Williams","orcid":"0000-0001-6855-8260","corresponding":true,"email":"bguzder-williams@berkeley.edu","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Maya Weltman-Fahs","given":"Maya","family":"Weltman-Fahs"},"name":"Maya Weltman-Fahs","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/SchmidtDSE/map_something","affiliations":[{"id":"dse","name":"The Eric and Wendy Schmidt Center for Data Science & Environment"},{"id":"ucb","name":"University of California, Berkeley"}],"exports":[{"format":"md","filename":"scripts.md","url":"/build/scripts-dbf595910f74e28abb6f07b43a143df9.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"q7ajHuDLBe"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"note: this section describes various scripts used to generate data and will likely not be part of any public facing document","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"p2JvAy1b5s"}],"key":"WLaloE4PvC"}],"key":"OTjJoZNsT9"},{"type":"thematicBreak","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"HdmLf0KbbR"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"[0] EXPORT LANDSAT DATA","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"frysAupyy4"}],"key":"jFW6vZINGI"}],"key":"LqUEW5nned"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Load Sample Yield data","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"TF9VFHeL4y"}],"key":"aTVkqHGntb"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Add geohashes","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RnOKVCk40J"}],"key":"yIn5hVKNzz"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"For each year:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"m4LjrOyYvh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Add Harmonized Landsat Pixel Values","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"B9ENVPkmjP"}],"key":"BERfAlAw8G"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Save results, local and GCS, as line-deliminated JSON files","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"fvdxJ488Ff"}],"key":"LLUJSvaMCQ"}],"key":"LyhyrI8dsD"}],"key":"SVMwPvYv4S"}],"key":"lO1zxKbDNC"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"[1] PREPROCESS RAW DATA","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"PjE5Dd94zm"}],"key":"yz9fZlFcYT"}],"key":"IdkPF0HB1c"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Load and Concatenate CSVs from GCP","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Cwggc9Bv8V"}],"key":"HRvT0wXsjp"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Remove missing band values (tested using green only)","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Dd0UUtm7nm"}],"key":"BpFzrS9g6E"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Requrie unique lon-lat per geohash-7","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"kOapCsop3E"}],"key":"Rnp3HbWj7E"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"remove nan/none values from coord-arrays","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"g4hAj5ViO0"}],"key":"nqxjsJw87h"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"require ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"uliq33b0CO"},{"type":"inlineCode","value":"c.MIN_REQUIRED_YEARS","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"bpE9IvJCjB"},{"type":"text","value":" per geohash","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"Zo7Y3fKASB"}],"key":"DLwrGkyTLm"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Add County/State Data","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"CdxbX32CEo"}],"key":"ZxUZkl6ug0"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Save results, local and GCS, as line-deliminated JSON","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"Xiob548T4A"}],"key":"WHRFuwCpOb"}],"key":"ObPVEv8h1f"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"strong","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"[2] BIGQUERY TABLES","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"HbslEUkkBz"}],"key":"ClcU2Hj0lZ"}],"key":"XDCJicJU0K"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":31,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"break data into (unique/sorted) subsets and save to GCS","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"wyVTvW3R1G"}],"key":"FwN0RwwCrj"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"create tables based on subsets saved on GCS","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"QK60odpNNu"}],"key":"Th2yYXoyHT"}],"key":"l3F6a6GSVZ"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"strong","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"[3] RAW SPECTRAL INDICES","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"YVx7orqBvj"}],"key":"iTj9iD4JJy"}],"key":"p3NiPBbXhW"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":37,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"create table for raw spectral indices","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"O4ASb14oaA"}],"key":"GC4kKibp5r"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"for each year (2000-2022):","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"p0K1gcquQo"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":39,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"compute all indices","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"M2LwrWVPKp"}],"key":"nKbZTkxKTm"},{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"save to gcs","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"yKuDdJKrqj"}],"key":"i7loEkZ1UF"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"save as bigquery table","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"teMLVXkXEJ"}],"key":"N1VldQLs98"}],"key":"UX8148XYfs"}],"key":"QjJIuY2EDS"}],"key":"aWPlLlBEqP"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"strong","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"[4] GAP FILLING AND SMOOTHING","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"orm9UdULwY"}],"key":"rAyRAx858I"}],"key":"n9hqHN94Kp"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"hevMA2qvpQ"}],"key":"ctvyzX487c"}],"key":"jSut96Ni76"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"strong","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"[5] COVER CROP FEATURES","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"FLHEoHxsNm"}],"key":"CJXEY5iOum"}],"key":"xc7mRMBtHg"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":51,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"for smoothed daily indices compute:\na. macd(div) features","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"ccbHpgEtSu"}],"key":"Jcs9UJ3IZp"}],"key":"oAEgcYjACr"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"strong","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"[6] INDICIES STATS","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"dfQQPAMQcg"}],"key":"fmgXPsyAxH"}],"key":"JLZA625q8M"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"sMNaScsZou"}],"key":"MVys8OyhqF"}],"key":"GxSvgowIzG"}],"key":"Rrpc4urzF4"}],"key":"sNIDlKcINY"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Sample Selection","url":"/data","group":"Spectral Trend Database"},"next":{"title":"Biomass Yield and Spectral Trends","url":"/spectral-trends","group":"Spectral Trend Database"}}},"domain":"http://localhost:3001"}