<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Sample Selection - Spectral Trend Database</title><meta property="og:title" content="Sample Selection - Spectral Trend Database"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/build/cornsoy-reduction-ddfb3a725f5809f1fa89d64c75aa4fac.png"/><meta property="og:image" content="/build/cornsoy-reduction-ddfb3a725f5809f1fa89d64c75aa4fac.png"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/build/_assets/app-H3NBUYVS.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="/myst-theme.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><div class="p-1 mr-3"><img src="/build/dse-2.black-crop.sma-aae35a86983fe3794aa1ec088262adec.png" class="h-9 dark:hidden" alt="Spectral Trend Database" height="2.25rem"/><img src="/build/dse-2.white-crop.sma-f5e5be0d64876eb7d7bd3a300e18d3c9.png" class="hidden h-9 dark:block" alt="Spectral Trend Database" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3iop:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode." aria-label="Toggle theme between light and dark mode."><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/SchmidtDSE/map_something" title="GitHub Repository: SchmidtDSE/map_something" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rd4fop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Sample Selection</h1><header class="mt-4 not-prose"><div class="grid grid-cols-1 sm:grid-cols-2 gap-y-1"><div class="pb-2 text-xs font-thin uppercase">Authors</div><div class="pb-2 text-xs font-thin uppercase">Affiliations</div><div><span class="font-semibold text-sm"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2mkfop:" data-state="closed">Brookie Guzder-Williams</button><a class="ml-1" href="mailto:bguzder-williams@berkeley.edu" title="Brookie Guzder-Williams &lt;bguzder-williams@berkeley.edu&gt;" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-blue-400 -translate-y-[0.1em]"><path d="M21.8 18c0 1.1-.9 2-1.9 2H4.2c-1.1 0-1.9-.9-1.9-2V9.9c0-.5.3-.7.8-.4l7.8 4.7c.7.4 1.7.4 2.4 0L21 9.5c.4-.2.8-.1.8.4V18z"></path><path d="M21.8 6c0-1.1-.9-2-1.9-2H4.2c-1.1 0-2 .9-2 2v.4c0 .5.3 1.1.8 1.3l8.5 5.1c.2.1.7.1.9 0l8.6-5c.4-.3.8-.9.8-1.3-.1-.1-.1-.5 0-.5z"></path></svg></a><a class="ml-1" href="https://orcid.org/0000-0001-6855-8260" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span></div><div class="text-sm"><div>The Eric and Wendy Schmidt Center for Data Science &amp; Environment<!-- --> </div><div>University of California, Berkeley<!-- --> </div></div><div><span class="font-semibold text-sm"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2qkfop:" data-state="closed">Maya Weltman-Fahs</button></span></div><div class="text-sm"><div>The Eric and Wendy Schmidt Center for Data Science &amp; Environment<!-- --> </div><div>University of California, Berkeley<!-- --> </div></div></div></header></div><div id="skip-to-article"></div><div id="dPuYqMezpx" class="relative group/block article-grid subgrid-gap col-screen"><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500 dropdown"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Corn Soy Other (GEE)</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><ul><li>csob_ic &lt;= for each year [2000,2020]:<ol start="1"><li>select cdl for year</li><li>map to corn / soy / other</li><li>remove borders:<ul><li>reduce neighborhood (90-meters)</li><li>im = neighborhood_im.where(neighborhood_im.neq(im), BORDER_VALUE).toInt()</li><li>result im each CSO value is CSO iff its at least 90-meters from a different value otherwise B</li></ul></li><li>require at least 15 years of CSO value (out of 20) to be continual_im</li><li>stratified_sample of continual_im C-S-O-B [10k,10k,2k,2k]</li></ol></li><li>result projects/dse-regenag/assets/CDL/cornsoy_other-n60-y15-p20000</li><li>=&gt; 24,000 features (10,000 Corn)</li></ul><p>script: <a target="_blank" href="https://code.earthengine.google.com/c25c8860c473c39ee301448ca8571a6e" rel="noreferrer">https://<wbr/>code<wbr/>.earthengine<wbr/>.google<wbr/>.com<wbr/>/c25c8860c473c39ee301448ca8571a6e</a>
visulaization script: (wip) <a target="_blank" href="https://code.earthengine.google.com/e6c0ee4ec7d3212580d2a9edeaecd3b4" rel="noreferrer">https://<wbr/>code<wbr/>.earthengine<wbr/>.google<wbr/>.com<wbr/>/e6c0ee4ec7d3212580d2a9edeaecd3b4</a>
asset: <code>projects/dse-regenag/assets/CDL/cornsoy_other-n60-y15-p20000</code></p></div></details><figure id="im-cld-reduction" class="fig-figure"><img id="f0KQfuF1wb" style="width:100%;margin:0 auto" src="/build/cornsoy-reduction-ddfb3a725f5809f1fa89d64c75aa4fac.png" alt="figure: neighborhood reduction of CDL corn/soy" data-canonical-url="../../assets/cornsoy-reduction.png"/><figcaption class="group"><p><a class="no-underline text-inherit hover:text-inherit mr-1 font-semibold text-inherit hover:text-inherit hover:font-semibold select-none hover:underline" href="#im-cld-reduction" title="Link to this figure" aria-label="Link to this figure">Figure <!-- -->1<!-- -->:</a>Masking border values in CDL. Left: corn/soy and other, center: 60-meter radius neighborhood reduction, right: masked borders</p></figcaption></figure><p>USDA’s <a target="_blank" href="https://developers.google.com/earth-engine/datasets/catalog/USDA_NASS_CDL" rel="noreferrer"><em>Crop Land Data Layer</em></a> was used to create a set of corn/soy sample points, i.e. points CDL labels as (in most cases alternating between) corn or soy for at least 15 years from 2000 to 2020. In order ensure we had “pure” pixels away from confounding effects of boarders and infrastructure 60-meter raidus neighborhood reductions and only kept pixel values that remained unchanged (see <span data-state="closed"><a href="#im-cld-reduction" class="hover-link">Figure <!-- -->1</a></span>). From the resulting image we selecting an initial 20,000 corn/soy points.</p><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500 dropdown"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">YIELD DATA (GEE)</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><ol start="1"><li>select cornsoy points from csob (described above)</li><li>map over each point:
a. filter qdann corn xor soy by point
b. compute value or neighborhood value of biomass at that point
c. filter out values with no biomass
d. flatten results</li></ol><p>script: <a target="_blank" href="https://code.earthengine.google.com/595bedc5425c99e83fc41de9ebf39c69" rel="noreferrer">https://<wbr/>code<wbr/>.earthengine<wbr/>.google<wbr/>.com<wbr/>/595bedc5425c99e83fc41de9ebf39c69</a></p></div></details><p>We then used these sample points to extract yield values based on <a target="_blank" href="https://gee-community-catalog.org/projects/qdann/" rel="noreferrer">QDANN</a> (2008-2022).</p></div><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/intro"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Spectral Trend Database</div>Description</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/scripts"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">Spectral Trend Database</div>Scripts</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-JLDGA2DL.js"/><link rel="modulepreload" href="/build/_shared/chunk-YAIQ7LUU.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-ZQWAZXET.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-IQBJE7PC.js"/><link rel="modulepreload" href="/build/_shared/chunk-5CFTM6YW.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-HROFNPGU.js"/><link rel="modulepreload" href="/build/_shared/chunk-N544LW6X.js"/><link rel="modulepreload" href="/build/routes/$-WNZNXUO2.js"/><script>window.__remixContext = {"url":"/data","state":{"loaderData":{"root":{"config":{"title":"Spectral Trend Database","options":{"hide_toc":true,"hide_outline":true,"favicon":"/build/favicon-ab84509359dcde0991484e03627401de.ico","logo":"/build/dse-2.black-crop.sma-aae35a86983fe3794aa1ec088262adec.png","logo_dark":"/build/dse-2.white-crop.sma-f5e5be0d64876eb7d7bd3a300e18d3c9.png"},"myst":"1.3.18","nav":[],"actions":[],"projects":[{"title":"Spectral Trend Database","subtitle":"a historcal database spectral indices","authors":[{"nameParsed":{"literal":"Brookie Guzder-Williams","given":"Brookie","family":"Guzder-Williams"},"name":"Brookie Guzder-Williams","orcid":"0000-0001-6855-8260","corresponding":true,"email":"bguzder-williams@berkeley.edu","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Maya Weltman-Fahs","given":"Maya","family":"Weltman-Fahs"},"name":"Maya Weltman-Fahs","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/SchmidtDSE/map_something","affiliations":[{"id":"dse","name":"The Eric and Wendy Schmidt Center for Data Science \u0026 Environment"},{"id":"ucb","name":"University of California, Berkeley"}],"toc":[{"file":"myst/main.md"},{"file":"myst/sections/intro.md"},{"file":"myst/sections/data.md"},{"file":"myst/sections/scripts.md"},{"file":"nb/spectral_trends.ipynb"}],"exports":[],"bibliography":[],"index":"main","pages":[{"slug":"intro","title":"Description","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"data","title":"Sample Selection","description":"","date":"","thumbnail":"/build/cornsoy-reduction-ddfb3a725f5809f1fa89d64c75aa4fac.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"scripts","title":"Scripts","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"spectral-trends","title":"Biomass Yield and Spectral Trends","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"CONTENT_CDN_PORT":"3101","MODE":"static"},"routes/$":{"config":{"title":"Spectral Trend Database","options":{"hide_toc":true,"hide_outline":true,"favicon":"/build/favicon-ab84509359dcde0991484e03627401de.ico","logo":"/build/dse-2.black-crop.sma-aae35a86983fe3794aa1ec088262adec.png","logo_dark":"/build/dse-2.white-crop.sma-f5e5be0d64876eb7d7bd3a300e18d3c9.png"},"myst":"1.3.18","nav":[],"actions":[],"projects":[{"title":"Spectral Trend Database","subtitle":"a historcal database spectral indices","authors":[{"nameParsed":{"literal":"Brookie Guzder-Williams","given":"Brookie","family":"Guzder-Williams"},"name":"Brookie Guzder-Williams","orcid":"0000-0001-6855-8260","corresponding":true,"email":"bguzder-williams@berkeley.edu","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Maya Weltman-Fahs","given":"Maya","family":"Weltman-Fahs"},"name":"Maya Weltman-Fahs","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/SchmidtDSE/map_something","affiliations":[{"id":"dse","name":"The Eric and Wendy Schmidt Center for Data Science \u0026 Environment"},{"id":"ucb","name":"University of California, Berkeley"}],"toc":[{"file":"myst/main.md"},{"file":"myst/sections/intro.md"},{"file":"myst/sections/data.md"},{"file":"myst/sections/scripts.md"},{"file":"nb/spectral_trends.ipynb"}],"exports":[],"bibliography":[],"index":"main","pages":[{"slug":"intro","title":"Description","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"data","title":"Sample Selection","description":"","date":"","thumbnail":"/build/cornsoy-reduction-ddfb3a725f5809f1fa89d64c75aa4fac.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"scripts","title":"Scripts","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"spectral-trends","title":"Biomass Yield and Spectral Trends","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"page":{"kind":"Article","sha256":"669f5b352129f1e0b8ab38ccc6724c57f2c5ff6ad853cbd857d3aba807130261","slug":"data","location":"/myst/sections/data.md","dependencies":[],"frontmatter":{"title":"Sample Selection","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Brookie Guzder-Williams","given":"Brookie","family":"Guzder-Williams"},"name":"Brookie Guzder-Williams","orcid":"0000-0001-6855-8260","corresponding":true,"email":"bguzder-williams@berkeley.edu","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Maya Weltman-Fahs","given":"Maya","family":"Weltman-Fahs"},"name":"Maya Weltman-Fahs","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/SchmidtDSE/map_something","affiliations":[{"id":"dse","name":"The Eric and Wendy Schmidt Center for Data Science \u0026 Environment"},{"id":"ucb","name":"University of California, Berkeley"}],"thumbnail":"/build/cornsoy-reduction-ddfb3a725f5809f1fa89d64c75aa4fac.png","exports":[{"format":"md","filename":"data.md","url":"/build/data-94c42441622b72938de715c98ad1b223.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"admonition","kind":"note","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Corn Soy Other (GEE)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vgs93JjA7F"}],"key":"xfuwuacmBD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"csob_ic \u003c= for each year [2000,2020]:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XnzZP8KA59"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"select cdl for year","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"IbumPlnMh0"}],"key":"rfbKoV7l7R"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"map to corn / soy / other","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"RJ3XWFoxsb"}],"key":"gbs98TsZvs"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"remove borders:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"mDzqYtgQzN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"reduce neighborhood (90-meters)","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"R1PYxDGBsC"}],"key":"V3jvFHikjb"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"im = neighborhood_im.where(neighborhood_im.neq(im), BORDER_VALUE).toInt()","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"jcgBapL7zX"}],"key":"jCxCHmIxWu"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"result im each CSO value is CSO iff its at least 90-meters from a different value otherwise B","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ChQtkxeANH"}],"key":"nKA1sH01Da"}],"key":"cqZTgeG2Vu"}],"key":"KGl5WmFP5g"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"require at least 15 years of CSO value (out of 20) to be continual_im","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"FYhDDdQ0y2"}],"key":"TH605R8dra"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"stratified_sample of continual_im C-S-O-B [10k,10k,2k,2k]","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"yxYuwJnliN"}],"key":"GoCD8G7hCM"}],"key":"dFNhw28TnS"}],"key":"HAGZ5Cf8mD"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"result projects/dse-regenag/assets/CDL/cornsoy_other-n60-y15-p20000","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"WgSbXAOMIt"}],"key":"QBm7pPpseK"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"=\u003e 24,000 features (10,000 Corn)","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"Vp2aFTIyVu"}],"key":"sGkSm7QXxq"}],"key":"THYBCgii7Y"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"script: ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"jMFNGTlbTJ"},{"type":"link","url":"https://code.earthengine.google.com/c25c8860c473c39ee301448ca8571a6e","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"https://​code​.earthengine​.google​.com​/c25c8860c473c39ee301448ca8571a6e","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"iNdrOFLkiE"}],"urlSource":"https://code.earthengine.google.com/c25c8860c473c39ee301448ca8571a6e","key":"wvhrTcEe9D"},{"type":"text","value":"\nvisulaization script: (wip) ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Iyd7sVoCxW"},{"type":"link","url":"https://code.earthengine.google.com/e6c0ee4ec7d3212580d2a9edeaecd3b4","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"https://​code​.earthengine​.google​.com​/e6c0ee4ec7d3212580d2a9edeaecd3b4","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"zzBDlntwu9"}],"urlSource":"https://code.earthengine.google.com/e6c0ee4ec7d3212580d2a9edeaecd3b4","key":"R28KxN3VFz"},{"type":"text","value":"\nasset: ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"enzEEUf9iq"},{"type":"inlineCode","value":"projects/dse-regenag/assets/CDL/cornsoy_other-n60-y15-p20000","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"CtRfTqEPns"}],"key":"aIcN5IXNyz"}],"key":"XRNNyMmi76"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/cornsoy-reduction-ddfb3a725f5809f1fa89d64c75aa4fac.png","alt":"figure: neighborhood reduction of CDL corn/soy","width":"100%","align":"center","urlSource":"../../assets/cornsoy-reduction.png","key":"f0KQfuF1wb"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"im_cld_reduction","identifier":"im_cld_reduction","html_id":"im-cld-reduction","enumerator":"1","children":[{"type":"text","value":"Figure ","key":"YVgrMgUapB"},{"type":"text","value":"1","key":"N6eRwBG2KZ"},{"type":"text","value":":","key":"oj55xTbDiT"}],"template":"Figure %s:","key":"ONMFEy1qmI"},{"type":"text","value":"Masking border values in CDL. Left: corn/soy and other, center: 60-meter radius neighborhood reduction, right: masked borders","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"xuIrwGdenK"}],"key":"BZJPjEf0GM"}],"key":"Bmg6ciCf3k"}],"label":"im_cld_reduction","identifier":"im_cld_reduction","enumerator":"1","html_id":"im-cld-reduction","key":"mu6h85HPZk"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"USDA’s ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"BL2zebBkJ2"},{"type":"link","url":"https://developers.google.com/earth-engine/datasets/catalog/USDA_NASS_CDL","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Crop Land Data Layer","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"YQWegixPai"}],"key":"tGUBOzR5Dv"}],"urlSource":"https://developers.google.com/earth-engine/datasets/catalog/USDA_NASS_CDL","key":"VlBh12ygDw"},{"type":"text","value":" was used to create a set of corn/soy sample points, i.e. points CDL labels as (in most cases alternating between) corn or soy for at least 15 years from 2000 to 2020. In order ensure we had “pure” pixels away from confounding effects of boarders and infrastructure 60-meter raidus neighborhood reductions and only kept pixel values that remained unchanged (see ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"H7dypLBg1h"},{"type":"crossReference","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Figure ","key":"SM3jFfwgT1"},{"type":"text","value":"1","key":"j1c9StYqXy"}],"identifier":"im_cld_reduction","label":"im_cld_reduction","kind":"figure","template":"Figure %s","enumerator":"1","resolved":true,"html_id":"im-cld-reduction","key":"rLEu2ew6PV"},{"type":"text","value":"). From the resulting image we selecting an initial 20,000 corn/soy points.","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"GZyAyuDxgk"}],"key":"eMi13Q6Iso"},{"type":"admonition","kind":"note","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"YIELD DATA (GEE)","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"ijZ57suag4"}],"key":"FsJnPr1ZJd"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":41,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"select cornsoy points from csob (described above)","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"R9G4tpjHHM"}],"key":"Eg7MXFrXg2"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"map over each point:\na. filter qdann corn xor soy by point\nb. compute value or neighborhood value of biomass at that point\nc. filter out values with no biomass\nd. flatten results","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"uKKhLnSxj3"}],"key":"huZrbMXsUX"}],"key":"Ray0gwdFHM"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"script: ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"AVdGdnIRGM"},{"type":"link","url":"https://code.earthengine.google.com/595bedc5425c99e83fc41de9ebf39c69","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"https://​code​.earthengine​.google​.com​/595bedc5425c99e83fc41de9ebf39c69","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"jC7B5IxN9U"}],"urlSource":"https://code.earthengine.google.com/595bedc5425c99e83fc41de9ebf39c69","key":"ENOpkqvoyL"}],"key":"ElRlOsIjOl"}],"key":"TsF8qpct4m"},{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"We then used these sample points to extract yield values based on ","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"o8djm3PGr8"},{"type":"link","url":"https://gee-community-catalog.org/projects/qdann/","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"QDANN","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"AilEnNbmtx"}],"urlSource":"https://gee-community-catalog.org/projects/qdann/","key":"ej8Y90PRI8"},{"type":"text","value":" (2008-2022).","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"UY90SyktuP"}],"key":"WC2K9K6maO"}],"key":"dPuYqMezpx"}],"key":"rBz3K36Qrr"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Description","url":"/intro","group":"Spectral Trend Database"},"next":{"title":"Scripts","url":"/scripts","group":"Spectral Trend Database"}}},"domain":"http://localhost:3001"},"project":{"title":"Spectral Trend Database","subtitle":"a historcal database spectral indices","authors":[{"nameParsed":{"literal":"Brookie Guzder-Williams","given":"Brookie","family":"Guzder-Williams"},"name":"Brookie Guzder-Williams","orcid":"0000-0001-6855-8260","corresponding":true,"email":"bguzder-williams@berkeley.edu","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Maya Weltman-Fahs","given":"Maya","family":"Weltman-Fahs"},"name":"Maya Weltman-Fahs","affiliations":["dse","ucb"],"id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/SchmidtDSE/map_something","affiliations":[{"id":"dse","name":"The Eric and Wendy Schmidt Center for Data Science \u0026 Environment"},{"id":"ucb","name":"University of California, Berkeley"}],"toc":[{"file":"myst/main.md"},{"file":"myst/sections/intro.md"},{"file":"myst/sections/data.md"},{"file":"myst/sections/scripts.md"},{"file":"nb/spectral_trends.ipynb"}],"exports":[],"bibliography":[],"index":"main","pages":[{"slug":"intro","title":"Description","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"data","title":"Sample Selection","description":"","date":"","thumbnail":"/build/cornsoy-reduction-ddfb3a725f5809f1fa89d64c75aa4fac.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"scripts","title":"Scripts","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"spectral-trends","title":"Biomass Yield and Spectral Trends","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-A92797E9.js";
import * as route0 from "/build/root-HROFNPGU.js";
import * as route1 from "/build/routes/$-WNZNXUO2.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>